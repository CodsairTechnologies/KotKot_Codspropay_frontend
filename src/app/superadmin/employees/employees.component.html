<div class="main" id="main">
    <div class="row  first-row">
        <!-- breadcrumbs -->
        <div class="col">
            <div class="breadcrumb">
                <span class="home-icon"><i class="bi bi-house-door-fill"></i></span>
                <a href="/superadmin/dashboard" class="breadcrumb-item">Dashboard</a> &nbsp; <i
                    class="bi bi-chevron-right"></i> &nbsp;
                <a href="/superadmin/employeelist" class="breadcrumb-item">Employees</a> &nbsp; <i
                    class="bi bi-chevron-right"></i> &nbsp;
                <a href="/superadmin/addemployees" class="breadcrumb-item"> {{ isEditMode ? 'Edit Employees' : 'Add
                    Employees' }} </a>

            </div>
        </div>
        <!-- breadcrumbs -->


    </div>



    <form [formGroup]="EmployeeForm">


        <div *ngIf="showFirstForm">
            <div class="box">
                <label for="" class="title">Employee details</label>

                <div class="details-box">
                    <div class="row">

                        <div class="col-4">

                            <!-- Employee Image -->

                            <div class="img-card card ">

                                <div *ngIf="showIconupload">
                                    <i class="upload bi bi-upload" (click)="selectfile.click()"></i>

                                    <label for="" class="emp-text">Select employee image</label>
                                </div>
                                <div>
                                    <input type="file" style="display: none;" (change)="onFileUploaded($event)"
                                        #selectfile>
                                    <img [src]="imagePreview" class="img-preview" *ngIf="showImageBox">
                                    <div class="bi bi-x-circle-fill" *ngIf="showIconClose" (click)="clearCard()"></div>
                                </div>

                            </div>


                        </div>

                        <div class="col-8 custom-break">

                            <div class="row mt-4 ms-2">

                                <div class="col-6 ">

                                    <!--  Name -->

                                    <div class="mb-3 f1">
                                        <label for="Name" class="form-label">Name <span
                                                class="required">*</span></label>
                                        <input type="text" class="form-control " id="Name" formControlName="Name"
                                            placeholder="Enter name here" (input)="onNameChange()">
                                    </div>


                                    <!-- error message -->

                                    <div class="error-msg"
                                        *ngIf="EmployeeForm.get('Name')?.errors && EmployeeForm.get('Name')?.touched">
                                        <p>Name is required!</p>
                                    </div>



                                    <div class="mb-3 f1">
                                        <label for="kotkotid" class="form-label">KotKot ID </label>
                                        <input type="text" class="form-control" id="kotkotid" formControlName="kotkotid"
                                            placeholder="Enter KotKot ID">
                                    </div>


                                </div>

                                <div class="col-6">

                                    <!-- Employee ID -->

                                    <div class="row">
                                        <div class="col-6 mb-3">
                                            <label for="employeeid" class="form-label">Employee ID <span
                                                    class="required">*</span></label>
                                            <input type="text" class="form-control" id="employeeid"
                                                formControlName="EmployeeID" placeholder="Enter ID here" >
                                            <div class="error-msg1 mt-2"
                                                *ngIf="EmployeeForm.get('EmployeeID')?.errors && EmployeeForm.get('EmployeeID')?.touched">
                                                <p>ID is required!</p>
                                            </div>
                                        </div>


                                        <div class="col-6 mb-3">
                                            <label for="employeeid" class="form-label">Role <span
                                                    class="required">*</span></label>
                                            <select class="form-select" aria-label="Default select example"
                                                formControlName="EmpType" (change)="selected_emptype($event,'add')">
                                                <option value="" disabled selected>Select Role</option>
                                                <option value="Staff">Staff</option>
                                                <option value="OfficeStaff">Office Staff</option>

                                            </select>
                                            <div class="error-msg1 mt-2"
                                                *ngIf="EmployeeForm.get('EmpType')?.errors && EmployeeForm.get('EmpType')?.touched">
                                                <p>Role is required!</p>
                                            </div>

                                        </div>

                                        <!-- error message -->

                                    </div>


                                    <!-- Contact Number -->

                                    <div class="mb-3">
                                        <label for="contactno" class="form-label">Contact No <span
                                                class="required">*</span></label>
                                        <input type="number" class="form-control" id="contactno"
                                            formControlName="ContactNo" placeholder="Enter contact here">
                                    </div>

                                    <!-- error message -->
                                    <div class="error-msg1" *ngIf="EmployeeForm.get('ContactNo')?.touched">
                                        <p *ngIf="EmployeeForm.get('ContactNo')?.errors?.['required']">Contact No is
                                            required!</p>
                                        <p *ngIf="EmployeeForm.get('ContactNo')?.errors?.['pattern']">Contact No must
                                            be
                                            a number!</p>
                                    </div>



                                </div>

                            </div>

                        </div>

                    </div>


                    <div class="row">

                        <div class="col-3">

                            <div class="mb-3 dob">
                                <!-- Gender -->

                                <label for="Gender" class="form-label">Gender <span class="required">*</span></label>

                                <select class="form-select" aria-label="Default select example" formControlName="Gender"
                                    id="genderSelect" (change)="selected_Gender($event,'add')">
                                    <option value="" disabled selected>Select Gender</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Others">Others</option>
                                </select>





                                <!-- error message -->

                                <div class="error-msg2"
                                    *ngIf="EmployeeForm.get('Gender')?.errors && EmployeeForm.get('Gender')?.touched">
                                    <p>Gender is required!</p>
                                </div>
                            </div>
                        </div>


                        <!-- Date of Birth -->

                        <div class="col-3">
                            <div class="mb-3 dob">
                                <label for="DOB" class="form-label">DOB <span class="required">*</span></label>
                                <input type="date" class="form-control" id="DOB" formControlName="DOB"
                                    [max]="currentDate">
                            </div>

                            <!-- error message -->

                            <div class="error-msg1"
                                *ngIf="EmployeeForm.get('DOB')?.errors && EmployeeForm.get('DOB')?.touched">
                                <p>Date of Birth is required!</p>
                            </div>
                        </div>



                        <!-- Age -->


                        <div class="col-2">
                            <div class="mb-3 age">
                                <label for="Age" class="form-label">Age <span class="required">*</span></label>
                                <input type="text" class="form-control" id="Age" placeholder="Enter Age here"
                                    formControlName="Age" readonly>
                            </div>

                            <!-- error message -->
                            <div class="error-msg1" *ngIf="EmployeeForm.get('Age')?.touched">
                                <p *ngIf="EmployeeForm.get('Age')?.errors?.['required']">Age is
                                    required!</p>

                            </div>

                        </div>

                        <!-- Email -->

                        <div class="col-4">
                            <div class="mb-3 email">
                                <label for="email" class="form-label">Email <span class="required">*</span> </label>
                                <input type="email" class="form-control" id="email" placeholder="Enter email here"
                                    formControlName="Email">


                            </div>

                            <div class="error-msg3"
                                *ngIf="EmployeeForm.get('Email')?.errors && EmployeeForm.get('Email')?.touched">
                                <p>Please Enter a valid Email id!</p>
                            </div>
                        </div>

                    </div>


                    <div class="row">

                        <!-- father name -->

                        <div class="col-4">
                            <div class="mb-3 fname">
                                <label for="FatherName" class="form-label">Father Name</label>
                                <input type="text" class="form-control" id="FatherName"
                                    placeholder="Enter father name here" formControlName="FatherName">
                            </div>
                        </div>

                        <div class="col-4">
                            <div class="mb-3 group">

                                <!-- blood group -->

                                <label for="BloodGroup" class="form-label">Blood Group</label>

                                <select class="form-select" aria-label="Default select example"
                                    formControlName="BloodGroup" (change)="selected_BloodGroup($event,'add')">
                                    <option value="" disabled selected>Select blood group</option>
                                    <option value="A+VE">A+</option>
                                    <option value="A-VE">A-</option>
                                    <option value="B+VE">B+</option>
                                    <option value="B-VE">B-</option>
                                    <option value="O+VE">O+</option>
                                    <option value="O-VE">O-</option>
                                    <option value="AB+VE">AB+</option>
                                    <option value="AB-VE">AB-</option>
                                </select>
                            </div>
                        </div>


                        <!-- qualification -->

                        <div class="col-4">
                            <div class="mb-3 email">
                                <label for="Qualification" class="form-label">Qualification</label>
                                <input type="email" class="form-control" id="Qualification"
                                    placeholder="Enter qualification" formControlName="Qualification">
                            </div>
                        </div>

                    </div>


                    <div class="row mt-3">
                        <div class="col-12 col-md-4">
                            <div class="mb-3">
                                <label for="Location" class="form-label">Country<span class="required">*</span></label>
                                <select class="form-select" id="country" formControlName="country"
                                    (change)="selectCountry($event)">
                                    <option value="">Select Country</option>
                                    <option *ngFor="let objCountry of countrylist" [value]="objCountry.id">{{
                                        objCountry.country_name }}</option>
                                </select>
                                <div class="error-msg2"
                                    *ngIf="EmployeeForm.get('country')?.errors && EmployeeForm.get('country')?.touched">
                                    <p>Country is required!</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-md-4">
                            <div class="mb-3">
                                <label for="State" class="form-label">State<span class="required">*</span></label>
                                <select class="form-select" formControlName="state"
                                    (change)="selectByState($event, 'add')">
                                    <option value="">Select State</option>
                                    <option [value]="state['id']" *ngFor="let state of statelist">{{ state['state_name']
                                        }}</option>
                                </select>
                                <div class="error-msg2"
                                    *ngIf="EmployeeForm.get('state')?.errors && EmployeeForm.get('state')?.touched">
                                    <p>State is required!</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-md-4">
                            <div class="mb-3">
                                <label for="Designation" class="form-label">City <span class="required">*</span></label>
                                <select class="form-select" formControlName="district"
                                    (change)="selectByDistrict($event, 'add')">
                                    <option value="" disabled selected>Select City</option>
                                    <option [value]="district['districtid']" *ngFor="let district of districtlist">{{
                                        district['district_name'] }}</option>
                                </select>
                                <div class="error-msg4"
                                    *ngIf="EmployeeForm.get('district')?.errors && EmployeeForm.get('district')?.touched">
                                    <p>City is required!</p>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row">

                        <!-- address -->

                        <div class="col-6">
                            <div class="mb-3">
                                <label for="address" class="form-label">Address <span class="required">*</span></label>
                                <textarea class="form-control" id="address" placeholder="Enter address"
                                    formControlName="Address"></textarea>
                            </div>

                            <div class="error-msg1"
                                *ngIf="EmployeeForm.get('Address')?.errors && EmployeeForm.get('Address')?.touched">
                                <p>Address is required!</p>
                            </div>

                        </div>

                        <div class="col-6 selects">

                            <div class="mb-3">

                                <label for="MaritalStatus" class="form-label">Marital Status</label>

                                <select class="form-select" aria-label="Default select example"
                                    formControlName="MaritalStatus" (change)="Selected_MaritalStatus($event,'add')">
                                    <option value="" selected>Select marital status</option>
                                    <option value="Unmarried">Unmarried</option>
                                    <option value="Married">Married</option>
                                    <option value="Widow">Widow</option>
                                    <option value="Widower">Widower</option>
                                </select>

                            </div>

                            <div class="mb-3">
                                <label for="SpouceName" class="form-label">Spouce Name</label>
                                <input type="text" class="form-control" placeholder="Enter spouse name here"
                                    formControlName="SpouceName">

                            </div>

                        </div>

                    </div>
                </div>

                <label for="" class="title">Job details</label>

                <div class="details-box">
                    <div class="row">

                        <!-- <div class="col-4 selects  ">

                            <div class="mb-3">

                                <label for="Company" class="form-label">Company <span class="required">*</span></label>

                                <select class="form-select" aria-label="Default select example"
                                    (change)=" Selected_Company($event,'add')" formControlName="Company">
                                    <option value="" disabled selected>Select Company</option>
                                    <option [value]="item.id" *ngFor="let item of Company_ArrayList">
                                        {{item['unitname']}}
                                    </option>
                                </select>

                                <div class="error-msg4"
                                    *ngIf="EmployeeForm.get('Company')?.errors && EmployeeForm.get('Company')?.touched">
                                    <p>Company is required!</p>
                                </div>



                            </div>
                        </div> -->


                        <div class="col-6">

                            <!-- marital status -->

                            <div class="mb-3 status">
                                <label for="Department" class="form-label">Department <span
                                        class="required">*</span></label>

                                <select class="form-select" aria-label="Default select example"
                                    formControlName="Department" (change)="selectDepartment($event)">
                                    <option value="" disabled selected>Select Department</option>
                                    <option *ngFor="let objdept of Department_ArrayList" [value]="objdept.id">{{
                                        objdept.department_name }}</option>
                                </select>


                                <div class="error-msg4"
                                    *ngIf="EmployeeForm.get('Department')?.errors && EmployeeForm.get('Department')?.touched">
                                    <p>Department is required!</p>
                                </div>



                            </div>
                        </div>

                        <!-- spouse name -->

                        <div class="col-6">

                            <div class="mb-3 spouse">

                                <label for="Designation" class="form-label ">Designation <span
                                        class="required">*</span></label>

                                <select class="form-select" aria-label="Default select example"
                                    formControlName="Designation" (change)="selectDesignation($event)">
                                    <option value="" disabled selected>Select designation</option>
                                    <option *ngFor="let objwork of Designation_List" [value]="objwork.id">{{
                                        objwork.designation_name }}</option>
                                </select>

                                <div class="error-msg4"
                                    *ngIf="EmployeeForm.get('Designation')?.errors && EmployeeForm.get('Designation')?.touched">
                                    <p>Designation is required!</p>
                                </div>

                            </div>
                        </div>



                    </div>

                    <div class="row">
                        <div class="col-4">
                            <div class="mb-3 ">

                                <label for="Location" class="form-label">Work Location <span
                                        class="required">*</span></label>

                                <select class="form-select" aria-label="Default select example"
                                    formControlName="Location" (change)="selectWorkLocation($event)">
                                    <option value="" disabled selected>Select Location</option>
                                    <option *ngFor="let objdesig of worklocationlist" [value]="objdesig.id">{{
                                        objdesig.worklocation_name }}</option>
                                </select>


                                <div class="error-msg2"
                                    *ngIf="EmployeeForm.get('Location')?.errors && EmployeeForm.get('Location')?.touched">
                                    <p>Working Location is required!</p>
                                </div>
                            </div>
                        </div>



                        <div class="col-4">


                            <label for="restaurant" class="form-label">Restaurant</label>
                            <select class="form-select" aria-label="Default select example" formControlName="restaurant"
                                (change)="selectRestaurant($event)">
                                <option value="" disabled selected>Select Restaurant</option>

                                <option *ngFor="let objRestaurant of RestaurantList" [value]="objRestaurant.restid">{{
                                    objRestaurant.restaurant_name }}</option>
                            </select>
                        </div>

                        <div class="col-4">

                            <div class="mb-3 ">

                                <label for="ContractDetails" class="form-label">Contract Details<span
                                        class="required">*</span></label>

                                <div class="file-upload card">
                                    <div class="upload-container">
                                        <label for="fileUpload" class="custom-file-upload">
                                            {{ isEditMode ? 'Update' : 'Choose' }}
                                            <input type="file" id="fileUpload" (change)="onContarctSelected($event)"
                                                accept=".pdf, image/*">
                                        </label>
                                        <span class="file-name-contract"> {{ selectedFilecontract?.name ||
                                            contractFileName ||
                                            'No file selected' }}</span>
                                    </div>
                                </div>

                                <div class="error-msg4"
                                    *ngIf="EmployeeForm.get('ContractDetails')?.errors && EmployeeForm.get('ContractDetails')?.touched">
                                    <p>ContractDetails is required!</p>
                                </div>
                            </div>




                        </div>
                    </div>

                    <!-- Row for PF Number, UAN, and IP Number -->
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="age">
                                <label for="PFNumber" class="form-label">PF Number</label>
                                <input type="text" class="form-control" id="PFNumber" placeholder="Enter PF Number"
                                    formControlName="PFNumber">
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class=" age">
                                <label for="UAN" class="form-label">UAN</label>
                                <input type="text" class="form-control" id="UAN" placeholder="Enter UAN Number"
                                    formControlName="UAN">
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class=" email">
                                <label for="IPNumber" class="form-label">IP Number</label>
                                <input type="text" class="form-control" id="IPNumber" placeholder="Enter IP Number"
                                    formControlName="IPNumber">
                            </div>
                        </div>
                    </div>

                    <div class="row">

                        <div class="col-md-3 mb-3">
                            <div class="mb-3 family">
                                <label for="JoiningDate" class="form-label">Joining Date <span
                                        class="required">*</span></label>
                                <input type="date" class="form-control" id="BaJoiningDatenkName"
                                    placeholder="Enter Joining Date" formControlName="JoiningDate">
                            </div>

                            <!-- error message -->

                            <div class="error-msg1"
                                *ngIf="EmployeeForm.get('JoiningDate')?.errors && EmployeeForm.get('JoiningDate')?.touched">
                                <p>Joining Date is required!</p>
                            </div>

                        </div>

                        <div class="col-md-3">
                            <div class="family position-relative">
                                <label for="salaryDate" class="form-label">Salary Date<span
                                        class="required">*</span></label>
                                <select class="form-select" id="salaryDate" formControlName="salaryDate">
                                    <option value="" disabled selected>Select Salary Date</option>
                                    <option *ngFor="let day of days" [value]="day">{{ day }}</option>
                                </select>



                            </div>
                            <div class="error-msg1"
                                *ngIf="EmployeeForm.get('salaryDate')?.errors && EmployeeForm.get('salaryDate')?.touched">
                                <p>Salary Date is required!</p>
                            </div>
                        </div>

                        <div class="col-md-3">

                            <label for="Shift" class="form-label ">Shift <span class="required">*</span></label>

                            <select class="form-select" aria-label="Default select example"
                                (change)="selected_Shift($event,'add')" formControlName="Shift">
                                <option value="" disabled selected>Select shift</option>
                                <option [value]="item.id" *ngFor="let item of ShiftList">
                                    {{item['shift']}}
                                </option>

                            </select>

                            <div class="error-msg4"
                                *ngIf="EmployeeForm.get('Shift')?.errors && EmployeeForm.get('Shift')?.touched">
                                <p>Shift is required!</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="family position-relative">
                                <label for="OT" class="form-label">Is ot?<span class="required">*</span></label>
                                <select class="form-select" id="OT" formControlName="OT">
                                    <option value="Yes" selected>Yes</option>
                                    <option value="No">No</option>
                                    <option value="Sunday">Sunday</option>

                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- salary date -->
                    <div class="row mb-3 ms-2">
                        <!-- Casual Leave -->
                        <div class="col-md-4 d-flex align-items-center">
                            <input type="checkbox" id="CasualLeaveCheck" class="form-check-input me-2"
                                formControlName="CasualLeaveEnabled">
                            <label for="CasualLeaveCheck" class="form-label mb-0 me-2">Casual Leave</label>

                            <!-- Input only if checkbox ticked -->
                            <input *ngIf="EmployeeForm.get('CasualLeaveEnabled')?.value" type="number"
                                class="form-control w-50" id="CasualLeave" formControlName="CasualLeave" min="0"
                                max="99" (input)="limitLength($event, 2)">
                        </div>

                        <!-- Medical Leave -->
                        <div class="col-md-4 d-flex align-items-center">
                            <input type="checkbox" id="MedicalLeaveCheck" class="form-check-input me-2"
                                formControlName="MedicalLeaveEnabled">
                            <label for="MedicalLeaveCheck" class="form-label mb-0 me-2">Medical Leave</label>

                            <!-- Input only if checkbox ticked -->
                            <input *ngIf="EmployeeForm.get('MedicalLeaveEnabled')?.value" type="number"
                                class="form-control w-50" id="MedicalLeave" formControlName="MedicalLeave" min="0"
                                max="99" (input)="limitLength($event, 2)">
                        </div>

                        <!-- Punch In Toggle -->
                        <div class="col-md-4 d-flex align-items-center">
                            <label class="form-label me-2 mb-0">Enable Punch</label>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="punchSwitch"
                                    formControlName="punchStatus">
                            </div>
                        </div>

                    </div>
                </div>



                <div class="row text-end ">

                    <div class="col ">
                        <button type="button" class="bttn" (click)="clearForm1()"> Clear</button>
                        <button type="button" class="bttn ms-4" (click)="showNextForm()"> Next</button>

                    </div>

                </div>








            </div>
        </div>




        <!-- second form -->

        <div *ngIf="!showFirstForm" class="nextform">

            <!-- <label for="" class="title">Employee details</label> -->
            <div class="box">
                <label for="" class="fam-title mb-1">Documents Details</label>

                <div class="details-box">

                    <div class="row">
                        <div class="col-3">

                            <div class="mb-3 ">
                                <label for="PassportNumber" class="form-label file-label">Passport No</label>
                                <input type="text" class="form-control  Passport"
                                    placeholder="Enter Passport Number here" formControlName="PassportNumber">
                            </div>

                        </div>


                        <div class="col-6 mb-3 ">
                            <label for="PassportImage" class="form-label" id="f2">Passport Image </label>

                            <div class="file-upload card" id="f1">
                                <div class="upload-container d-flex align-items-center">
                                    <!-- File Upload -->
                                    <label for="passportFileUpload" class="custom-file-upload"
                                        title="Only PDF and image files (JPG, PNG) are allowed.">
                                        Update
                                        <input type="file" id="passportFileUpload" (change)="onPassportSelected($event)"
                                            accept=".pdf, image/*">
                                    </label>

                                    <!-- File name -->
                                    <span class="file-name-passport">{{ passportFileName || 'No file selected' }}</span>

                                    <!-- ðŸ‘ Eye icon only if file is selected -->
                                    <i *ngIf="passportFileUrl || selectedFilePassport" class="bi bi-eye ms-2"
                                        style="cursor: pointer; font-size: 1.2rem;" (click)="previewPassportFile()"></i>
                                </div>
                            </div>
                        </div>


                        <div class="col-3 mb-3">
                            <div class="mb-3 ">
                                <label for="PassportNumber" class="form-label file-label">Passport Expiry</label>
                                <input type="date" class="form-control Passport" placeholder="Enter Passport Expiry"
                                    formControlName="Passportexpiry">
                            </div>

                        </div>
                    </div>

                    <div class="row">
                        <div class="col-3 mb-3">
                            <div class="mb-3 ">
                                <label for="PassportNumber" class="form-label file-label">Balady/Health
                                    Certificate</label>
                                <input type="text" class="form-control  Passport"
                                    placeholder="Enter Balady/Health Certificate" formControlName="Baladyno">
                            </div>
                        </div>


                        <div class="col-6 mb-3 ">
                            <label for="BaladyImage" class="form-label" id="f2">Balady Image</label>
                            <div class="file-upload card" id="f1">
                                <div class="upload-container d-flex align-items-center">

                                    <!-- File Upload -->
                                    <label for="baladyFileUpload" class="custom-file-upload"
                                        title="Only PDF and image files (JPG, PNG) are allowed.">
                                        Update
                                        <input type="file" id="baladyFileUpload" (change)="onBaladySelected($event)"
                                            accept=".pdf, image/*">
                                    </label>

                                    <!-- File name -->
                                    <span class="file-name-balady">{{ baladyFileName || 'No file selected' }}</span>

                                    <!-- ðŸ‘ Eye icon only if file is selected -->
                                    <i *ngIf="baladyFileUrl || selectedFileBalady" class="bi bi-eye ms-2"
                                        style="cursor: pointer; font-size: 1.2rem;" (click)="previewBaladyFile()"></i>
                                </div>
                            </div>

                        </div>


                        <div class="col-3 mb-3">
                            <div class="mb-3 ">
                                <label for="BaladyExpiry" class="form-label file-label">Balady Expiry</label>
                                <input type="date" class="form-control Passport" placeholder="Enter Balady Expiry"
                                    formControlName="BaladyExpiry">
                            </div>

                        </div>
                    </div>



                    <div class="row">
                        <div class="col-3 mb-3">

                            <div class="mb-3 ">
                                <label for="IkkamaNo" class="form-label file-label">Ikkama No</label>
                                <input type="text" class="form-control  Passport" placeholder="Enter Ikkama No"
                                    formControlName="IkkamaNo">
                            </div>

                        </div>


                        <div class="col-6 mb-3 ">
                            <label for="IkkamaImage" class="form-label" id="f2">Ikkama Image</label>

                            <div class="file-upload card" id="f1">
                                <div class="upload-container d-flex align-items-center">

                                    <!-- Left side: Update button + File name -->
                                    <div class="d-flex align-items-center">
                                        <label for="ikkamaFileUpload" class="custom-file-upload"
                                            title="Only PDF and image files (JPG, PNG) are allowed.">
                                            Update
                                            <input type="file" id="ikkamaFileUpload" (change)="onIkkamaSelected($event)"
                                                accept=".pdf, image/*">
                                        </label>

                                        <span class="file-name-ikkama">{{ ikkamaFileName || 'No file selected' }}</span>
                                    </div>

                                    <!-- Right side: ðŸ‘ Eye icon -->
                                    <i *ngIf="ikkamaFileUrl || selectedFileIkkama" class="bi bi-eye ms-auto"
                                        style="cursor: pointer; font-size: 1.2rem;" (click)="previewIkkamaFile()"></i>
                                </div>
                            </div>

                        </div>


                        <div class="col-3 mb-3">

                            <div class="mb-3 ">
                                <label for="IkkamaExpiry" class="form-label file-label">Ikkama Expiry</label>
                                <input type="date" class="form-control Passport" placeholder="Enter Ikkama Expiry"
                                    formControlName="IkkamaExpiry">
                            </div>

                        </div>
                    </div>




                    <div class="row mt-3">

                        <div class="col-6">
                            <div class="mb-3 adhaarno">
                                <label for="validid" class="form-label health-label">Other valid id if any</label>
                                <input type="text" class="form-control" placeholder="Enter Other valid id if any"
                                    formControlName="validid">
                            </div>
                        </div>

                        <div class="col-6">
                            <div class="mb-3 health">
                                <label for="DIssueExp" class="form-label">ID No / Date of issue and expiry</label>
                                <input type="text" class="form-control"
                                    placeholder="Enter IDNo / Date of issue and expiry here"
                                    formControlName="DIssueExp">
                            </div>
                        </div>

                    </div>
                </div>





                <!-- salary details -->

                <label for="" class="fam-title mb-1">Salary Details</label>

                <!-- Radio Buttons for Salary Type -->
                <div class="mb-3 custom-radio-container d-flex align-items-center">
                    <div class="form-check custom-radio me-4">
                        <input class="form-check-input" type="radio" formControlName="salaryType" id="MonthlySalary"
                            value="monthly" (change)="onSalaryTypeChange('monthly')">
                        <label class="form-check-label" for="MonthlySalary">Monthly Salary</label>
                    </div>
                    <div class="form-check custom-radio">
                        <input class="form-check-input" type="radio" formControlName="salaryType" id="DailyWages"
                            value="daily" (change)="onSalaryTypeChange('daily')">
                        <label class="form-check-label" for="DailyWages">Daily Wages</label>
                    </div>
                </div>

                <!-- Monthly Salary Fields -->
                <div *ngIf="isMonthlySalary" class="details-box">
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <div class="bs">
                                <label for="BasicSalary" class="form-label">Basic Salary <span
                                        class="required">*</span></label>
                                <input type="text" class="form-control" id="BasicSalary"
                                    placeholder="Enter Basic Salary" formControlName="BasicSalary">
                            </div>

                            <div class="error-msg1"
                                *ngIf="EmployeeForm.get('BasicSalary')?.errors && EmployeeForm.get('BasicSalary')?.touched">
                                <p>Basic Salary is required!</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="pfpercentage">
                                <div class="d-flex align-items-center">
                                    <label for="PFCheckbox" class="form-check-label me-3">PF</label>
                                    <div class="form-check me-3 custom-checkbox">
                                        <input class="form-check-input" type="checkbox" id="PFCheckbox"
                                            (change)="togglePfField($event)" formControlName="PFCheckbox">
                                    </div>
                                    <input type="text" class="form-control readonly-input" id="PFpercentage"
                                        placeholder="PF Amount" formControlName="PFpercentage"
                                        [attr.disabled]="isMonthlySalary ? null : true">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="pfpercentage">
                                <div class="d-flex align-items-center">
                                    <label for="ESICheckbox" class="form-check-label me-3">ESI</label>
                                    <div class="form-check me-3 custom-checkbox">
                                        <input class="form-check-input" type="checkbox" id="ESICheckbox"
                                            formControlName="ESICheckbox">
                                    </div>
                                    <input type="text" class="form-control readonly-input" id="ESIpercentage"
                                        placeholder="ESI in %" formControlName="ESIpercentage">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Additional fields for Monthly Salary -->
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <div class=" ta">
                                <label for="DA" class="form-label">DA</label>
                                <input type="text" class="form-control" id="DA" placeholder="Enter DA"
                                    formControlName="DA">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="ta">
                                <label for="HRA" class="form-label">HRA</label>
                                <input type="text" class="form-control" id="HRA" placeholder="Enter HRA"
                                    formControlName="HRA">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="ta">
                                <label for="TA" class="form-label">TA</label>
                                <input type="text" class="form-control" id="TA" placeholder="Enter TA"
                                    formControlName="TA">
                            </div>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-4">
                            <div class="ta">
                                <label for="FoodAllowance" class="form-label">Food Allowance</label>
                                <input type="text" class="form-control" id="FoodAllowance"
                                    placeholder="Enter Food Allowance" formControlName="FoodAllowance">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="ta">
                                <label for="ExtraAllowance" class="form-label">Extra Allowance</label>
                                <input type="text" class="form-control" id="ExtraAllowance"
                                    placeholder="Enter Extra Allowance" formControlName="ExtraAllowance">
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="ta">
                                <label for="monthlyworkingdays" class="form-label">Monthly Working Days<span
                                        class="required">*</span></label>
                                <input type="text" class="form-control" id="monthlyworkingdays"
                                    placeholder="Enter Monthly Working Days" formControlName="monthlyworkingdays">
                            </div>

                            <div class="error-msg1"
                                *ngIf="EmployeeForm.get('monthlyworkingdays')?.errors && EmployeeForm.get('monthlyworkingdays')?.touched">
                                <p>Monthly Working Days is required!</p>
                            </div>

                        </div>

                    </div>
                </div>

                <!-- Daily Wages Fields -->
                <div *ngIf="isDailyWages" class="details-box">
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <div class="bs">
                                <label for="BasicSalaryDaily" class="form-label">Daily Wages <span
                                        class="required">*</span></label>
                                <input type="text" class="form-control" id="BasicSalaryDaily"
                                    placeholder="Enter Basic Salary" formControlName="BasicSalary">
                            </div>
                            <div class="error-msg1"
                                *ngIf="EmployeeForm.get('BasicSalary')?.errors && EmployeeForm.get('BasicSalary')?.touched">
                                <p>Basic Salary is required!</p>
                            </div>
                        </div>
                        <div class="col-md-4 ps-5">
                            <div class="pfpercentage">
                                <div class="d-flex align-items-center pf">
                                    <label for="PFCheckboxDaily" class="form-check-label me-3">PF</label>
                                    <div class="form-check me-3 custom-checkbox">
                                        <input class="form-check-input" type="checkbox" id="PFCheckboxDaily"
                                            formControlName="PFCheckbox" (change)="togglePfFieldDaily($event)">
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class=" pfpercentage">
                                <div class="d-flex align-items-center">
                                    <label for="ESICheckboxDaily" class="form-check-label me-3">ESI</label>
                                    <div class="form-check me-3 custom-checkbox">
                                        <input class="form-check-input" type="checkbox" id="ESICheckboxDaily"
                                            formControlName="ESICheckbox">
                                    </div>
                                    <input type="text" class="form-control readonly-input" id="ESIpercentageDaily"
                                        placeholder="ESI in %" formControlName="ESIpercentage">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Additional fields for Daily Wages -->
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <div class=" ta">
                                <label for="DA" class="form-label">DA</label>
                                <input type="text" class="form-control" id="DA" placeholder="Enter DA"
                                    formControlName="DA">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class=" ta">
                                <label for="HRA" class="form-label">HRA</label>
                                <input type="text" class="form-control" id="HRA" placeholder="Enter HRA"
                                    formControlName="HRA">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class=" ta">
                                <label for="TA" class="form-label">TA</label>
                                <input type="text" class="form-control" id="TA" placeholder="Enter TA"
                                    formControlName="TA">
                            </div>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <div class="ta">
                                <label for="FoodAllowance" class="form-label">Food Allowance</label>
                                <input type="text" class="form-control" id="FoodAllowance"
                                    placeholder="Enter Food Allowance" formControlName="FoodAllowance">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="ta">
                                <label for="ExtraAllowance" class="form-label">Extra Allowance</label>
                                <input type="text" class="form-control" id="ExtraAllowance"
                                    placeholder="Enter Extra Allowance" formControlName="ExtraAllowance">
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="ta">
                                <label for="monthlyworkingdays" class="form-label">Monthly Working Days<span
                                        class="required">*</span></label>
                                <input type="text" class="form-control" id="monthlyworkingdays"
                                    placeholder="Enter Monthly Working Days" formControlName="monthlyworkingdays">
                            </div>

                            <div class="error-msg1"
                                *ngIf="EmployeeForm.get('monthlyworkingdays')?.errors && EmployeeForm.get('monthlyworkingdays')?.touched">
                                <p>Monthly Working Days is required!</p>
                            </div>

                        </div>

                    </div>
                </div>






                <!-- bank details -->

                <label for="" class="fam-title mb-1">Bank Details</label>
                <div class="details-box">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="family">
                                <label for="BankName" class="form-label">Bank Name</label>
                                <input type="text" class="form-control" id="BankName" placeholder="Enter Bank Name"
                                    formControlName="BankName">
                            </div>
                        </div>



                        <div class="col-md-6">
                            <div class="family1">
                                <label for="AccNumber" class="form-label">Account Number</label>
                                <input type="text" class="form-control" id="AccNumber" placeholder="Enter AccNumber"
                                    formControlName="AccNumber">
                            </div>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <div class="family1">
                                <label for="IFSCcode" class="form-label">IFSC Code</label>
                                <input type="text" class="form-control" id="IFSCcode" placeholder="Enter IFSC Code"
                                    formControlName="IFSCcode">
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="family1">
                                <label for="Branch" class="form-label">Branch</label>
                                <input type="text" class="form-control" id="Branch" placeholder="Enter Branch"
                                    formControlName="Branch">
                            </div>
                        </div>
                    </div>

                </div>

                <div class="row mt-3">

                    <div class="col-4 mb-3">

                        <label for="Type" class="form-label">Type<span class="required">*</span></label>

                        <!-- <select class="form-select" aria-label="Default select example" formControlName="Type">
                            <option value="" disabled selected>Select Type</option>
                            <option value="RestaurantManager">RestaurantManager</option>
                            <option value="PurchaseManager">PurchaseManager</option>
                            <option value="Admin">Admin</option>
                            <option value="Staff">Staff</option>
                            <option value="KitchenStaff">KitchenStaff</option>
                            <option value="ProductionHouse">ProductionHouse</option>
                            <option value="GodownManager">GodownManager</option>
                            <option value="WareHouse">WareHouse</option>
                            <option value="Accounts">Accounts</option>

                        </select> -->

                        <ng-select [items]="userTypes" bindLabel="label" bindValue="value" [multiple]="true"
                            [placeholder]="
    EmployeeForm.get('Type')?.value?.length
      ? ''
      : 'Search&select Type'
  " class="form-select-style" formControlName="Type">
                        </ng-select>



                        <div class="error-msg4"
                            *ngIf="EmployeeForm.get('Type')?.errors && EmployeeForm.get('Type')?.touched">
                            <p>Type is required!</p>
                        </div>
                    </div>
                    <div class="col-4">

                        <div class="mb-3 dol">
                            <label for="Username" class="form-label ">Username<span class="required">*</span></label>
                            <input type="text" class="form-control" placeholder="Enter username here"
                                formControlName="username">
                        </div>
                        <div class="error-msg6"
                            *ngIf="EmployeeForm.get('username')?.errors && EmployeeForm.get('username')?.touched">
                            <p>Username is required!</p>
                        </div>

                    </div>

                    <div class="col-4">

                        <div class="mb-3 dor">
                            <label for="Password" class="form-label ">Password <span class="required">*</span></label>
                            <input type="text" class="form-control" placeholder="**************"
                                formControlName="password">
                        </div>
                        <div class="error-msg6"
                            *ngIf="EmployeeForm.get('password')?.errors && EmployeeForm.get('password')?.touched">
                            <p>Password is required!</p>
                        </div>

                    </div>

                </div>



                <!-- <label for="" class="fam-title mb-1 mt-4">Family Details</label>
                <div class="details-box">
                    <form [formGroup]="FamilyMembers">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="family">
                                    <label for="FamilyName" class="form-label">Name</label>
                                    <input type="text" class="form-control" id="FamilyName" placeholder="Enter Name"
                                        formControlName="name">
                                </div>

                                <div class="error-msg2"
                                    *ngIf="FamilyMembers.get('name')?.errors && FamilyMembers.get('name')?.touched">
                                    <p>Name is required!</p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="family1">
                                    <label for="FamilyAge" class="form-label">Date of Birth</label>
                                    <input type="date" class="form-control" id="FamilyAge"
                                        placeholder="Enter Date of Birth" formControlName="dob" [max]="currentDate">
                                </div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="family">

                                    <label for="Relation" class="form-label">Relation</label>

                                    <select class="form-select" aria-label="Default select example"
                                        formControlName="relation">
                                        <option value='' disabled selected>Select Relation</option>
                                        <option value="Father">Father</option>
                                        <option value="Mother">Mother</option>
                                        <option value="Son">Son</option>
                                        <option value="Daughter">Daughter</option>
                                        <option value="Brother">Brother</option>
                                        <option value="Sister">Sister</option>
                                        <option value="Husband">Husband</option>
                                        <option value="Wife">Wife</option>
                                        <option value="Others">Others</option>
                                    </select>

                                </div>

                                <div class="error-msg2"
                                    *ngIf="FamilyMembers.get('relation')?.errors && FamilyMembers.get('relation')?.touched">
                                    <p>Relation is required!</p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3 family1">
                                    <label for="AadharNumber" class="form-label">Aadhar Number</label>
                                    <input type="text" class="form-control" id="AadharNumber"
                                        placeholder="Enter Aadhar Number" formControlName="adharno">
                                </div>


                                <div class="error-msg6"
                                    *ngIf="FamilyMembers.get('adharno')?.errors && FamilyMembers.get('adharno')?.touched">
                                    <p *ngIf="FamilyMembers.get('adharno')?.errors?.['pattern']">Invalid Aadhar
                                        Number!
                                        It
                                        must be a 12-digit numeric value starting with 2-9.</p>
                                </div>
                            </div>
                        </div>
                        <div class="row button-add d-flex justify-content-end">
                            <button class="bttn" (click)="addFamilyMember()"> Add</button>
                        </div>
                    </form>

                    <div class="table-box mb-3">
                        <app-table [arrList]="arrList" [arrColumns]="arrColumns" [blnNoEdit]="blnNoEdit"
                            [blnForDelete]="blnForDelete" [blnHasSingleview]="blnHasSingleview"
                            (objPresentationEvent)="eventFromTable($event)">
                        </app-table>
                    </div>

                </div>
 -->





                <div class="row button-add d-flex justify-content-end mt-3">
                    <button type="button" class="bttn" (click)="clearForm2()"> Clear</button> &nbsp; &nbsp;
                    <button class="bttn" (click)="goToFirstForm()"> Back</button> &nbsp; &nbsp;
                    <button type="submit" class="bttn" (click)="addEmployee()"> submit</button>
                </div>

            </div>
        </div>
    </form>

</div>


<!-- Modal for edit  family details-->

<!-- <p-dialog [(visible)]="EditModal" [modal]="true" [style]="{width: '30vw'}" [baseZIndex]="10000" [draggable]="false"
    [resizable]="false">
    <div class="row body-row">
        <div class="col-12">
            <h5 class="edit-family">Edit Family Details</h5>

        </div>
        <div class="col-2">
            <button type="button" class="p-dialog-titlebar-icon p-dialog-titlebar-close p-link"
                (click)="EditModal = false" aria-label="Close">

            </button>
        </div>
    </div>
    <div class="modal-body px-0 mt-3">
        <form [formGroup]="EditFamilyDetailsForm">

            <div class="mb-3 family">
                <label for="FamilyName" class="form-label">Name</label>
                <input type="text" class="form-control" id="FamilyName" placeholder="Enter Name" formControlName="name">


            </div>

            <div class="error-msgn"
                *ngIf="EditFamilyDetailsForm.get('name')?.errors && EditFamilyDetailsForm.get('name')?.touched">
                <p>Name is required!</p>
            </div>



            <div class="mb-3 family1">
                <label for="FamilyAge" class="form-label">Date of Birth</label>
                <input type="date" class="form-control" id="FamilyAge" placeholder="Enter Date of Birth"
                    formControlName="dob" [max]="currentDate">
            </div>

            <div class="mb-3 family">
                <label for="Relation" class="form-label">Relation</label>
                <select class="form-select" aria-label="Default select example" formControlName="relation">
                    <option value='' disabled selected>Select Relation</option>
                    <option value="Father">Father</option>
                    <option value="Mother">Mother</option>
                    <option value="Son">Son</option>
                    <option value="Daughter">Daughter</option>
                    <option value="Brother">Brother</option>
                    <option value="Sister">Sister</option>
                    <option value="Husband">Husband</option>
                    <option value="Wife">Wife</option>
                    <option value="Others">Others</option>
                </select>
            </div>

            <div class="mb-3 family1">
                <label for="AadharNumber" class="form-label">Aadhar Number</label>
                <input type="text" class="form-control" id="AadharNumber" placeholder="Enter Aadhar Number"
                    formControlName="adharno">
            </div>

            <div class="error-msg6"
                *ngIf="EditFamilyDetailsForm.get('adharno')?.errors && EditFamilyDetailsForm.get('adharno')?.touched">
                <p *ngIf="EditFamilyDetailsForm.get('adharno')?.errors?.['pattern']">Invalid Aadhar Number! It must be a
                    12-digit numeric value starting with 2-9.</p>
            </div>


        </form>
    </div>
    <ng-template pTemplate="footer">
        <button type="submit" pButton label="Save" class="bttn" (click)="editFamilyDetailsFn()"></button>
    </ng-template>
</p-dialog> -->

<!--END - Modal for edit family details-->




<!-- Modal for delete  -->

<!-- <p-dialog [(visible)]="deleteCountryModal" [modal]="true" [style]="{width: '35vw'}" [baseZIndex]="10000"
    [draggable]="false" [resizable]="false">
    <div class="row body-row p-1 ">
        <div class="col-2"><i class="bi bi-exclamation-triangle-fill"></i></div>
        <div class="col-10">
            <h1 class="delete-title">Delete Data ?</h1>
        </div>
        <p class="justify-content-center d-flex mt-3">Are you sure you want to delete this Data ?</p>
    </div>
    <ng-template pTemplate="footer">
        <div class=" justify-content-center d-flex mt-5">
            <button type="button" pButton class=" close-btn ">Close</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" pButton class=" delete-btn" (click)=confirmDelete()>Delete</button>
        </div>
    </ng-template>
</p-dialog> -->

<!--END  Modal for delete -->

<div *ngIf="Loader" class="spinner-container">
    <div class="spinner"></div>
</div>